!function(e){"use strict";var o={};function t(){var o,t;o=e(".qodef-tours-filter-holder.qodef-tours-filter-horizontal form"),t=e(".qodef-tours-filter-holder.qodef-tours-filter-vertical-small form"),function(){var e;e="undefined"!=typeof qodefToursSearchData?qodefToursSearchData.destinations:[],e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:e}),o.find(".qodef-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:e}),t.find(".qodef-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:e})}()}function i(){}function n(){}function a(){}"undefined"!=typeof qodef&&(qodef.modules.destinations=o),o.qodefOnDocumentReady=t,o.qodefOnWindowLoad=i,o.qodefOnWindowResize=n,o.qodefOnWindowScroll=a,e(document).ready(t),e(window).on("load",i),e(window).resize(n),e(window).scroll(a)}(jQuery),function(h){"use strict";var e={};function o(){"undefined"!=typeof qodef&&typeof qodef||t(),"undefined"!=typeof qodef&&i(),h(".qodef-tour-item-single-holder").find(".qodef-tour-item-wrapper ul li a").on("click",function(){"#tour-item-gallery-id"===h(this).attr("href")&&"function"==typeof qodef.modules.common.qodefInitGridMasonryListLayout&&qodef.modules.common.qodefInitGridMasonryListLayout()}),a().fieldsHelper.init(),a().handleSearch.init(),m()}function t(){var e=h(".qodef-tour-item-single-holder"),t=e.find(".qodef-tour-item-wrapper ul li a"),i=e.find(".qodef-tour-item-section");t.first().addClass("qodef-active-item"),t.on("click",function(){t.removeClass("qodef-active-item");var e=h(this),o=e.attr("href");e.addClass("qodef-active-item"),i.length&&i.each(function(){var e=h(this);e.attr("id")===o?(e.show(),"#tour-item-location-id"===o&&n()):e.hide()})})}function i(){h(".qodef-tour-item-single-holder").find(".qodef-tour-item-wrapper ul li a").on("click",function(){"#tour-item-location-id"===h(this).attr("href")&&n()})}function n(){"undefined"!=typeof qodef&&qodef.modules.googleMap.qodefShowGoogleMap()}function a(){var u=h(".qodef-tours-search-main-filters-holder form");function l(){function o(e){""===e.val()?e.addClass("qodef-tours-select-default-option"):e.removeClass("qodef-tours-select-default-option")}var e=h(".qodef-tours-select-placeholder");e.length&&e.each(function(){var e=h(this);o(h(this)),e.on("change",function(){o(h(this))})})}function c(e,i,o,n){var a=e.find('input[type="submit"]'),r=h(".qodef-tours-search-content"),d=h(".qodef-tours-search-page-holder");i=void 0===i||i,o=void 0===o||o,n=void 0!==n&&n;var t=a.data("searching-label"),s=a.val();i&&a.val(t),o&&e.find('[name="page"]').val(1),r.addClass("qodef-tours-searching");var f={action:"tours_search_handle_form_submission"};f.fields=e.serialize(),h.ajax({type:"GET",url:qodefToursAjaxURL,dataType:"json",data:f,success:function(e){var o,t;i&&a.val(s),r.removeClass("qodef-tours-searching"),r.find(".qodef-tours-row .qodef-tours-row-inner-holder").html(e.html),o=e.url,t="",location.href.match(/\?.*/)&&document.referrer&&(t=location.href.replace(/\?.*/,"")),window.history.replaceState({page:t+"?"+o},"",t+"?"+o),h(".qodef-tours-search-pagination").remove(),r.append(e.paginationHTML),n&&h("html, body").animate({scrollTop:d.offset().top-80},700),m()}})}return{fieldsHelper:{init:function(){var e,d,s,f,o,t,i,n,a,r;e=u.find(".qodef-tours-range-input"),d=u.find(".qodef-tours-price-range-field"),s=u.find('[name="min_price"]'),f=u.find('[name="max_price"]'),o=d.data("min-price"),t=d.data("max-price"),i=d.data("chosen-min-price"),n=d.data("chosen-max-price"),e.length&&e.each(function(){noUiSlider.create(this,{start:[i,n],connect:!0,step:1,range:{min:[o],max:[t]},format:{to:function(e){return Math.floor(e)},from:function(e){return e}}}).on("update",function(e){var o=e[0],t=e[1],i=d.data("currency-symbol"),n=d.data("currency-symbol-position"),a="left"===n?i+o:o+i,r="left"===n?i+t:o+t;d.val(a+" - "+r),s.val(o),f.val(t)})}),a="undefined"!=typeof qodefToursSearchData?qodefToursSearchData.tours:[],a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:a}),u.find(".qodef-tours-keyword-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"tours",source:a}),r="undefined"!=typeof qodefToursSearchData?qodefToursSearchData.destinations:[],r=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:r}),u.find(".qodef-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:r}),l()}},handleSearch:{init:function(){var o,n,a,r,d,i,s,f,t,e,l;o=u,h("body").hasClass("post-type-archive-tour-item")&&o.on("submit",function(e){e.preventDefault(),e.stopPropagation(),c(o)}),n=u,a=h(".qodef-search-ordering-item"),r=n.find('[name="order_by"]'),d=n.find('[name="order_type"]'),a.length&&a.on("click",function(e){e.preventDefault(),e.stopPropagation();var o=h(this);a.removeClass("qodef-search-ordering-item-active"),o.addClass("qodef-search-ordering-item-active");var t=o.data("order-by"),i=o.data("order-type");void 0!==t&&void 0!==i&&(r.val(t),d.val(i)),c(n,!1,!1)}),i=u,s=h(".qodef-tours-search-view-item"),f=i.find('[name="view_type"]'),s.length&&s.on("click",function(e){e.preventDefault(),e.stopPropagation();var o=h(this);s.removeClass("qodef-tours-search-view-item-active"),o.addClass("qodef-tours-search-view-item-active");var t=o.data("type");void 0!==t&&f.val(t),c(i,!1,!1)}),t=u,e=h(".qodef-tours-search-pagination"),l=t.find('[name="page"]'),e.length&&h(document).on("click",".qodef-tours-search-pagination li",function(e){e.preventDefault(),e.stopPropagation();var o=h(this).data("page");void 0!==o&&l.val(o),c(t,!0,!1,!0)})}}}}function m(){var e=h(".qodef-tours-gallery-item");e.length&&e.each(function(){var e=h(this),o=e.find(".qodef-tours-gallery-item-content-holder"),t=o.find(".qodef-tours-gallery-item-excerpt"),i=Math.ceil(t.height());o.css("transform","translate3d(0,"+i+"px,0)"),e.mouseenter(function(){o.css("transform","translate3d(0,0,0)")}),e.mouseleave(function(){i=Math.ceil(t.height()),o.css("transform","translate3d(0,"+i+"px,0)")})})}"undefined"!=typeof qodef&&(qodef.modules.tours=e),e.qodefOnDocumentReady=o,e.qodefInitTourItemTabs=t,e.qodefTourTabsMapTrigger=i,e.qodefToursGalleryAnimation=m,h(document).ready(o)}(jQuery),function(m){"use strict";var e={};function o(){t().init()}function p(){return"undefined"!=typeof qodef}function t(){function o(d){var s,f,l,u=d.find(".qodef-tours-list-pagination-data"),c=d.find(".qodef-tours-list-holder-inner");s=d.find(".qodef-tours-load-more-button"),f=d.find(".qodef-tours-pagination-holder"),l=!1,s.length&&s.on("click",function(e){e.preventDefault(),e.stopPropagation();var o,t,i,n,a=s.data("loading-label"),r=s.text();s.text(a),(t=(o=d).find(".qodef-tour-list-filter-item")).removeClass("qodef-tour-list-current-filter"),t.eq(0).addClass("qodef-tour-list-current-filter"),o.find(".qodef-tours-list-holder-inner").isotope({filter:"*"}),l||(l=!0,i=function(e){var o;!0===e.havePosts?(s.text(r),o=m(e.html),c.append(o),c.waitForImages(function(){h(c),c.isotope("appended",o).isotope("reloadItems"),qodef.modules.tours.qodefToursGalleryAnimation()})):(s.remove(),f.html(e.message)),l=!1},n={action:"setsail_tours_list_ajax_pagination",fields:u.find("input").serialize()},m.ajax({url:qodefToursAjaxURL,data:n,dataType:"json",type:"POST",success:function(e){e.havePosts&&u.find('[name="next_page"]').val(e.nextPage),p()&&qodef.modules.common.qodefInitParallax(),i.call(this,e)}}))})}var e=m(".qodef-tours-list-holder"),h=function(e){var o,t,i,n,a,r;e.parent().hasClass("qodef-tours-type-masonry")&&(o=parseInt(e.find(".qodef-tours-row-item").css("padding-left")),t=e.find(".qodef-size-default"),i=e.find(".qodef-size-large-width"),n=e.find(".qodef-size-large-height"),a=e.find(".qodef-size-large-width-height"),r=e.find(".qodef-tours-list-grid-sizer").width(),t.css("height",r-2*o),n.css("height",Math.round(2*r)-2*o),a.css("height",Math.round(2*r)-2*o),i.css("height",r-2*o))};return{init:function(){e.length&&void 0!==m.fn.isotope&&e.each(function(){var e,i,n;(e=m(this).find(".qodef-tours-list-holder-inner")).animate({opacity:1}),h(e),e.isotope({percentPosition:!0,itemSelector:".qodef-tours-row-item",transitionDuration:"0.4s",isInitLayout:!0,hiddenStyle:{opacity:0},visibleStyle:{opacity:1},masonry:{columnWidth:".qodef-tours-list-grid-sizer"}}),p()&&qodef.modules.common.qodefInitParallax(),m(window).resize(function(){h(e)}),i=m(this),(n=i.find(".qodef-tour-list-filter-item")).on("click",function(e){e.preventDefault(),e.stopPropagation();var o=m(this),t=o.data("type");n.removeClass("qodef-tour-list-current-filter"),o.addClass("qodef-tour-list-current-filter"),t=void 0===t?"*":"."+t,i.find(".qodef-tours-list-holder-inner").isotope({filter:t})}),o(m(this))})}}}"undefined"!=typeof qodef&&(qodef.modules.toursListSC=e),e.qodefOnWindowLoad=o,e.toursList=t,m(window).on("load",o)}(jQuery);