<%- include ('./Header.ejs') %>


<style>

    body {
      font-family: "Open Sans", sans-serif;
      background: #e4e4e4;
      margin: 20px 0;
    }
    body .h1 {
      font-size: 2em;
    }
    body .h2 {
      font-size: 1.5em;
    }
    body .h3 {
      font-size: 1.17em;
    }
    body .h4 {
      font-size: 1em;
    }
    .editor-toolbar {
      background: #fff;
      border: 1px solid #cecece;
      margin: 0;
      padding: 0;
    }
    .editor-toolbar a {
      display: inline-block;
      padding: 8px 12px;
      color: #000;
    }
    .editor-toolbar a:hover {
      background: #e4e4e4;
    }
    .editor-toolbar .active {
      background: #e4e4e4;
    }
    .editor-toolbar .dropdown {
      display: inline-block;
    }
    .editor-toolbar .dropdown .btn-default {
      border: none;
    }
    .editor-toolbar .dropdown .btn-default:focus,
    .editor-toolbar .dropdown .btn-default:hover {
      background: none;
    }
    .editor-toolbar .dropdown a {
      margin: 0;
    }
    #editor {
      resize: vertical;
      overflow: auto;
      line-height: 1.5;
      background: #fff;
      border: 1px solid #cecece;
      border-top: none;
      min-height: 150px;
      box-shadow: none;
      padding: 8px 16px;
      margin: 0 0 10px 0;
      font-size: 14px;
    }
    #editor:focus {
      outline: none;
    }
    unselectable {
      -webkit-user-select: none;
      -moz-user-select: -moz-none;
      -ms-user-select: none;
    }
    
    
    </style>

        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">

            
            <!-- row -->

            <div class="container-fluid">
              
                <div class="row" id='insertdiv'>
                    <div class="col-12">
                        <h3 class="content-heading mt-3">New Product<span style="float: right;cursor: pointer;color:#1f5ab0;" id="show">Show All</span></h3>

                    </div>
                   
                    <div class="col-xl-12 col-xxl-12">
                        <div class="card">
                            <div class="card-body">    
                                    <div class="basic-form">
                                        <form action="/admin/dashboard/catalogue/insert" method="POST" enctype="multipart/form-data" class="uploadImage">
                                               <div class="row">
                                              

                                                <div class="col-6">
                                                    <label>Category Name</label>
                                                   <select name="scategoryid" id="categoryid" class="form-control"></select>
                                                </div>

                                                <div class="col-6">
                                                    <label>Product Name</label>
                                                    <input type="text" class="form-control" name="name" placeholder="Product Name">
                                                </div>
                                                
                                              
                                            </div>


                                            <div class="row" style="margin-top: 20px;">
                                                <div class="col-6">
                                                    <label>MRP Price</label>
                                                    <input type="number" class="form-control" name="price" placeholder="Product Price">
                                                </div>
                                                <div class="col-6">
                                                    <label>Discount</label>
                                                    <input type="number" class="form-control" name="discount" placeholder="Discount">
                                                </div>

                                               
                                                
                                              
                                            </div>




                                            <div class="row" style="margin-top: 20px;">
                                              


                                                <div class="col-12">
                                                    <label>Quantity</label>
                                                    <input type="number" class="form-control" name="quantity" placeholder="Product Quantity">
                                                </div>

                                              
                                                
                                              
                                            </div>




                                            <div class="row" style="margin-top: 20px;">
                                                <div class="col-6">
                                                    <label>Small Description</label>
                                                   <textarea class="form-control" name="small_description" placeholder="Prdocut Description (Small Description)"></textarea>
                                                </div>


                                                <div class="col-6">
                                                    <label>Description</label>
                                                   <textarea class="form-control" name="keyword" placeholder="Keywords"></textarea>
                                                </div>

                                              
                                                
                                              
                                            </div>



                                           
                                            <div class="row" style="margin-top: 20px;">
                                                <div class="col-6">
                                                    <label>Product Thumbnail</label>
                                                    <input type="file" class="form-control" name="thumbnail" placeholder="Category Name">
                                                </div>
                                                <div class="col-6">
                                                    <label>Product Image</label>
                                                    <input type="file" class="form-control" name="image" placeholder="State">
                                                </div>
                                                
                                              
                                            </div>





                                      



                                            
                                            <div class="row" style="margin-top: 20px;">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                  <!-- <div class="form-group">
                                                      <label>Product Description</label>
                                                     <textarea class="form-control" name="description" required></textarea>
                                                    </div> -->
                                                    <div class="form-group">
                                                      <label>Product Description</label>
                                                     
                                                      <div class="editor-toolbar">
                                                        <div class="dropdown">
                                                          <button class="btn btn-default dropdown-toggle" type="button" id="headingMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                            Heading
                                                            <span class="caret"></span>
                                                          </button>
                                                          <ul class="dropdown-menu" aria-labelledby="headingMenu">
                                                            <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h1')" class="h1">Heading 1</a></li>
                                                            <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h2')" class="h2">Heading 2</a></li>
                                                            <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h3')" class="h3">Heading 3</a></li>          
                                                            <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h4')" class="h4">Heading 4</a></li>
                                                          </ul>
                                                        </div>
                                                        
                                                        
                                                        <a href="javascript:void(0)" role="button" class="toolbar-btn unselectable" onclick="runCommand(this, 'bold', null)" unselectable="on"><i class="fa fa-bold"></i></a>
                                                        <a href="javascript:void(0)" role="button" class="toolbar-btn" onclick="runCommand(this, 'italic', null)"><i class="fa fa-italic"></i></a>
                                                        <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'underline', null)"><i class="fa fa-underline"></i></a> 
                                                        <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'indent', null)"><i class="fa fa-indent"></i></a> 
                                                        <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertUnorderedList', null)"><i class="fa fa-list-ul"></i></a> 
                                                        <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertOrderedList', null)"><i class="fa fa-list-ol"></i></a>
                                                        <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'createLink', null)"><i class="fa fa-link"></i></a>
                                                        <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'unlink', null)"><i class="fa fa-unlink"></i></a>
                                                        <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'redo', null)"><i class="fa fa-repeat"></i></a>
                                                        <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'undo', null)"><i class="fa fa-undo"></i></a>         
                                                      </div>
                                                      
                                                      <div id="editor"   contenteditable="true"></div>
                                                      <!-- <textarea  id="messageText" type="hidden" name = 'description' ></textarea> -->
                                                      
                                                      <!-- <div class="row">
                                                        <div class="col-sm-2">
                                                          <button id="submit" class="btn btn-default btn-block" type="submit">Submit</button>
                                                        </div>
                                                      </div> -->
                                                    </div>
                                                    
                                                    
                                                </div>
                        
                                            </div>

                                            
                               <button class="btn btn-primary" type="submit" style="margin-top:20px;float:right">Save</button>

                                        </form>
                                    </div>
                                    
                                  
                                    
                                   
                                    
                             
                                    
                                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <!-- <div class="col-12">
                        <h3 class="content-heading">Latest Subcategory</h3>
                    </div> -->

                    
                    
                    <div class="col-xl-12 col-xxl-12">
                        <div class="card">
                            <div class="card-body">


                              <div class="row" id='editdiv'>
                                <div class="col-12">
                <h6 class="card-header"><span><button type="button" class="btn btn-primary show" id="back1" style="margin:10px">Back</button></span>Edit Data</h6>
            
            
                                </div>
                               
                                <div class="col-xl-12 col-xxl-12">
                                  <div class="card">
                                      <div class="card-body">    
                                              <div class="basic-form">
                                                         <div class="row">
                                                           <input type="hidden" id="pid">
                                                         
                                                          <div class="col-12">
                                                              <label>Product Name</label>
                                                              <input type="text" class="form-control" id="pname" placeholder="Product Name">
                                                          </div>
                                                          
                                                        
                                                      </div>
          
          
                                                      <div class="row" style="margin-top: 20px;">
                                                          <div class="col-6">
                                                              <label>MRP Price</label>
                                                              <input type="number" class="form-control" id="pprice" placeholder="Product Price">
                                                          </div>
                                                          <div class="col-6">
                                                              <label>Discount</label>
                                                              <input type="number" class="form-control" id="pdiscount" placeholder="Discount">
                                                          </div>
          
                                                         
                                                          
                                                        
                                                      </div>
          
          
          
          
                                                      <div class="row" style="margin-top: 20px;">
                                                        
          
          
          
                                                          <div class="col-12">
                                                              <label>Quantity</label>
                                                              <input type="number" class="form-control" id="pquantity" placeholder="Product Quantity">
                                                          </div>
          
                                                        
                                                          
                                                        
                                                      </div>
          
          
          
          
                                                      <div class="row" style="margin-top: 20px;">
                                                          <div class="col-6">
                                                              <label>Small Description</label>
                                                             <textarea class="form-control" id="psmall_description" placeholder="Prdocut Description (Small Description)"></textarea>
                                                          </div>
          
          
                                                          <div class="col-6">
                                                              <label>Keyword</label>
                                                             <textarea class="form-control" id="pkeyword" placeholder="Keywords"></textarea>
                                                          </div>
          
                                                        
                                                          
                                                        
                                                      </div>
          
          
          
                                                     
                                              
          
          
          
          
          
                                                
          
          
          
                                                      
                                                      <div class="row" style="margin-top: 20px;">
                                                          <div class="col-lg-12 col-md-12 col-sm-12">
                                                            <!-- <div class="form-group">
                                                                <label>Product Description</label>
                                                               <textarea class="form-control" name="description" required></textarea>
                                                              </div> -->
                                                              <div class="form-group">
                                                                <label>Product Description</label>
                                                               
                                                                <div class="editor-toolbar">
                                                                  <div class="dropdown">
                                                                    <button class="btn btn-default dropdown-toggle" type="button" id="headingMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                                      Heading
                                                                      <span class="caret"></span>
                                                                    </button>
                                                                    <ul class="dropdown-menu" aria-labelledby="headingMenu">
                                                                      <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h1')" class="h1">Heading 1</a></li>
                                                                      <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h2')" class="h2">Heading 2</a></li>
                                                                      <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h3')" class="h3">Heading 3</a></li>          
                                                                      <li><a href="javascript:void(0)" onclick="runCommand(this, 'formatBlock', 'h4')" class="h4">Heading 4</a></li>
                                                                    </ul>
                                                                  </div>
                                                                  
                                                                  
                                                                  <a href="javascript:void(0)" role="button" class="toolbar-btn unselectable" onclick="runCommand(this, 'bold', null)" unselectable="on"><i class="fa fa-bold"></i></a>
                                                                  <a href="javascript:void(0)" role="button" class="toolbar-btn" onclick="runCommand(this, 'italic', null)"><i class="fa fa-italic"></i></a>
                                                                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'underline', null)"><i class="fa fa-underline"></i></a> 
                                                                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'indent', null)"><i class="fa fa-indent"></i></a> 
                                                                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertUnorderedList', null)"><i class="fa fa-list-ul"></i></a> 
                                                                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'insertOrderedList', null)"><i class="fa fa-list-ol"></i></a>
                                                                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'createLink', null)"><i class="fa fa-link"></i></a>
                                                                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'unlink', null)"><i class="fa fa-unlink"></i></a>
                                                                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'redo', null)"><i class="fa fa-repeat"></i></a>
                                                                  <a href="javascript:void(0)" role="button" onclick="runCommand(this, 'undo', null)"><i class="fa fa-undo"></i></a>         
                                                                </div>
                                                                
                                                                <div id="editor" class="peditor"   contenteditable="true"></div>
                                                                <!-- <textarea  id="messageText" type="hidden" name = 'description' ></textarea> -->
                                                                
                                                                <!-- <div class="row">
                                                                  <div class="col-sm-2">
                                                                    <button id="submit" class="btn btn-default btn-block" type="submit">Submit</button>
                                                                  </div>
                                                                </div> -->
                                                              </div>
                                                              
                                                              
                                                          </div>
                                  
                                                      </div>
          
                                                      
                                                      <button class="btn btn-primary" type="button" id="update" style="margin-top:20px;float:right">Update</button>

                                              </div>
                                              
                                            
                                              
                                             
                                              
                                       
                                              
                                          
                                      </div>
                                  </div>
                              </div>
                            </div>



                            <div class="card mb-4" id="updateimagediv">
                              <h6 class="card-header"><span><button type="button" class="btn btn-primary show" id="back2" style="margin:10px">Back</button></span> Upload Image</h6>
                              <div class="card-body">
                              
                                  <form action="/admin/dashboard/catalogue/update-image" method="POST" enctype="multipart/form-data">
                                      <div class="form-row">
                                 
                                          <div class="form-group col-md-4 col-lg-4">
                                              <label class="form-label">ID</label>
                                              <input type="text" class="form-control" placeholder="Email" id="peid" name="id" readonly>
                                              <div class="clearfix"></div>
                                              </div>
                              

                                              <div class="form-group col-md-4 col-lg-4">
                                                <label class="form-label">Thumbnail</label>
                                                <input type="file" class="form-control" name='thumbnail' placeholder="Password">
                                                <div class="clearfix"></div>
                                                </div>
                                               
                                      <div class="form-group col-md-4 col-lg-4">
                                      <label class="form-label">Image</label>
                                      <input type="file" class="form-control" name='image' placeholder="Password">
                                      <div class="clearfix"></div>
                                      </div>
                                    
          
                                    </div>
                              
          
                                   
                                      
                                      
                                      <button type="submit" class="btn btn-primary">Submit</button>
                                      </form>
                              </div>
                              </div>


                                <!-- <h4 class="card-title">Table Bordered</h4> -->
                                <div class="table-responsive">
                                   <div id="result"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
               

                
            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->
        
        
        <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
                <p><a href="templatespoint.net"></a></p>
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->

        
        <!--**********************************
            Right sidebar start
        ***********************************-->
        <div class="sidebar-right">
            <a class="sidebar-right-trigger gradient-5-x" href="javascript:void(0)">
                <span><i class="fa fa-cog fa-spin"></i></span>
            </a>
            <div class="sidebar-right-inner">
                <div class="admin-settings">
                    <h4>Pick your style</h4>
                    <div>
                        <p>Background</p>
                        <select class="form-control" name="theme_version" id="theme_version">
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                        </select>
                    </div>
                    <div>
                        <p>Layout</p>
                        <select class="form-control" name="theme_layout" id="theme_layout">
                            <option value="vertical">Vertical</option>
                            <option value="horizontal">Horizontal</option>
                        </select>
                    </div>
                    <div>
                        <p>Sidebar</p>
                        <select class="form-control" name="sidebar_style" id="sidebar_style">
                            <option value="full">Full</option>
                            <option value="mini">Mini</option>
                            <option value="compact">Compact</option>
                            <option value="overlay">Overlay</option>
                        </select>
                    </div>
                    <div>
                        <p>Sidebar position</p>
                        <select class="form-control" name="sidebar_position" id="sidebar_position">
                            <option value="static">Static</option>
                            <option value="fixed">Fixed</option>
                        </select>
                    </div>
                    <div>
                        <p>Header position</p>
                        <select class="form-control" name="header_position" id="header_position">
                            <option value="static">Static</option>
                            <option value="fixed">Fixed</option>
                        </select>
                    </div>
                    <div>
                        <p>Container</p>
                        <select class="form-control" name="container_layout" id="container_layout">
                            <option value="wide">Wide</option>
                            <option value="boxed">Boxed</option>
                            <option value="wide-boxed">Wide Boxed</option>
                        </select>
                    </div>
                    <div>
                        <p>Direction</p>
                        <select class="form-control" name="theme_direction" id="theme_direction">
                            <option value="ltr">LTR</option>
                            <option value="rtl">RTL</option>
                        </select>
                    </div>
                    <div>
                        <p>Navigation Header</p>
                        <div>
                            <span>
                                <input type="radio" name="navigation_header" value="color_1" class="filled-in chk-col-primary" id="nav_header_bg_1">
                                <label for="nav_header_bg_1"></label>
                            </span>
                            <span>
                                <input type="radio" name="navigation_header" value="color_2" class="filled-in chk-col-primary" id="nav_header_bg_2">
                                <label for="nav_header_bg_2"></label>
                            </span>
                            <span>
                                <input type="radio" name="navigation_header" value="color_3" class="filled-in chk-col-primary" id="nav_header_bg_3">
                                <label for="nav_header_bg_3"></label>
                            </span>
                            <span>
                                <input type="radio" name="navigation_header" value="color_4" class="filled-in chk-col-primary" id="nav_header_bg_4">
                                <label for="nav_header_bg_4"></label>
                            </span>
                            <span>
                                <input type="radio" name="navigation_header" value="color_5" class="filled-in chk-col-primary" id="nav_header_bg_5">
                                <label for="nav_header_bg_5"></label>
                            </span>
                            <span>
                                <input type="radio" name="navigation_header" value="color_6" class="filled-in chk-col-primary" id="nav_header_bg_6">
                                <label for="nav_header_bg_6"></label>
                            </span>
                            <span>
                                <input type="radio" name="navigation_header" value="color_7" class="filled-in chk-col-primary" id="nav_header_bg_7">
                                <label for="nav_header_bg_7"></label>
                            </span>
                            <span>
                                <input type="radio" name="navigation_header" value="color_8" class="filled-in chk-col-primary" id="nav_header_bg_8">
                                <label for="nav_header_bg_8"></label>
                            </span>
                            <span>
                                <input type="radio" name="navigation_header" value="color_9" class="filled-in chk-col-primary" id="nav_header_bg_9">
                                <label for="nav_header_bg_9"></label>
                            </span>
                            <span>
                                <input type="radio" name="navigation_header" value="color_10" class="filled-in chk-col-primary" id="nav_header_bg_10">
                                <label for="nav_header_bg_10"></label>
                            </span>
                        </div>
                    </div>
                    <div>
                        <p>Header</p>
                        <div>
                            <span>
                                <input type="radio" name="header_bg" value="color_1" class="filled-in chk-col-primary" id="header_bg_1">
                                <label for="header_bg_1"></label>
                            </span>
                            <span>
                                <input type="radio" name="header_bg" value="color_2" class="filled-in chk-col-primary" id="header_bg_2">
                                <label for="header_bg_2"></label>
                            </span>
                            <span>
                                <input type="radio" name="header_bg" value="color_3" class="filled-in chk-col-primary" id="header_bg_3">
                                <label for="header_bg_3"></label>
                            </span>
                            <span>
                                <input type="radio" name="header_bg" value="color_4" class="filled-in chk-col-primary" id="header_bg_4">
                                <label for="header_bg_4"></label>
                            </span>
                            <span>
                                <input type="radio" name="header_bg" value="color_5" class="filled-in chk-col-primary" id="header_bg_5">
                                <label for="header_bg_5"></label>
                            </span>
                            <span>
                                <input type="radio" name="header_bg" value="color_6" class="filled-in chk-col-primary" id="header_bg_6">
                                <label for="header_bg_6"></label>
                            </span>
                            <span>
                                <input type="radio" name="header_bg" value="color_7" class="filled-in chk-col-primary" id="header_bg_7">
                                <label for="header_bg_7"></label>
                            </span>
                            <span>
                                <input type="radio" name="header_bg" value="color_8" class="filled-in chk-col-primary" id="header_bg_8">
                                <label for="header_bg_8"></label>
                            </span>
                            <span>
                                <input type="radio" name="header_bg" value="color_9" class="filled-in chk-col-primary" id="header_bg_9">
                                <label for="header_bg_9"></label>
                            </span>
                            <span>
                                <input type="radio" name="header_bg" value="color_10" class="filled-in chk-col-primary" id="header_bg_10">
                                <label for="header_bg_10"></label>
                            </span>
                        </div>
                    </div>
                    <div>
                        <p>Sidebar</p>
                        <div>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_1" class="filled-in chk-col-primary" id="sidebar_bg_1">
                                <label for="sidebar_bg_1"></label>
                            </span>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_2" class="filled-in chk-col-primary" id="sidebar_bg_2">
                                <label for="sidebar_bg_2"></label>
                            </span>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_3" class="filled-in chk-col-primary" id="sidebar_bg_3">
                                <label for="sidebar_bg_3"></label>
                            </span>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_4" class="filled-in chk-col-primary" id="sidebar_bg_4">
                                <label for="sidebar_bg_4"></label>
                            </span>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_5" class="filled-in chk-col-primary" id="sidebar_bg_5">
                                <label for="sidebar_bg_5"></label>
                            </span>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_6" class="filled-in chk-col-primary" id="sidebar_bg_6">
                                <label for="sidebar_bg_6"></label>
                            </span>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_7" class="filled-in chk-col-primary" id="sidebar_bg_7">
                                <label for="sidebar_bg_7"></label>
                            </span>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_8" class="filled-in chk-col-primary" id="sidebar_bg_8">
                                <label for="sidebar_bg_8"></label>
                            </span>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_9" class="filled-in chk-col-primary" id="sidebar_bg_9">
                                <label for="sidebar_bg_9"></label>
                            </span>
                            <span>
                                <input type="radio" name="sidebar_bg" value="color_10" class="filled-in chk-col-primary" id="sidebar_bg_10">
                                <label for="sidebar_bg_10"></label>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--**********************************
            Right sidebar end
        ***********************************-->
    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


    <script src="../../assets/plugins/common/common.min.js"></script>
    <script src="/Admin/main/./js/custom.min.js"></script>
    <script src="/Admin/main/./js/settings.js"></script>
    <script src="/Admin/main/./js/quixnav.js"></script>
    <script src="/Admin/main/./js/styleSwitcher.js"></script>
    
    <!-- Jquery Validation -->
    <script src="../../assets/plugins/jquery-validation/jquery.validate.min.js"></script>
    <!-- Form step -->
    <script src="../../assets/plugins/jquery-steps/build/jquery.steps.min.js"></script>
    <script src="../../assets/plugins/jquery-validation/jquery.validate.min.js"></script>
    <!-- Form validate init -->
    <script src="/Admin/main/./js/plugins-init/jquery.validate-init.js"></script>
    <!-- Dropify -->
    <script src="../../assets/plugins/dropify/dist/js/dropify.min.js"></script>
    <!-- Typeahead -->
    <script src="../../assets/plugins/typeahead.js/dist/typeahead.jquery.min.js"></script>
    <script src="../../assets/plugins/typeahead.js/dist/typeahead.bundle.min.js"></script>
    <script src="../../assets/plugins/typeahead.js/dist/bloodhound.min.js"></script>
    <!-- Tagsinput -->
    <script src="../../assets/plugins/bootstrap-tagsinput/js/bootstrap-tagsinput.min.js"></script>
    <!-- Switchery -->
    <script src="../../assets/plugins/innoto-switchery/dist/switchery.min.js"></script>
    <!-- Select 2 -->
    <script src="../../assets/plugins/select2/js/select2.full.min.js"></script>
    <!-- Touchspinner -->
    <script src="../../assets/plugins/bootstrap-touchspin/js/jquery.bootstrap-touchspin.min.js"></script>
    <!-- Input mask -->
    <script src="../../assets/plugins/jasny-bootstrap/dist/js/jasny-bootstrap.min.js"></script>
    <!-- x-editable -->
    <script src="../../assets/plugins/moment/moment.min.js"></script>
    <script src="../../assets/plugins/x-editable/dist/bootstrap3-editable/js/bootstrap-editable.min.js"></script>
    <!-- Summernote -->
    <script src="../../assets/plugins/summernote/js/summernote.min.js"></script>
    <!-- Daterangepicker -->
    <!-- momment js is must -->
    <!-- <script src="../../assets/plugins/moment/moment.min.js"></script> -->
    <script src="../../assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
    <!-- clockpicker -->
    <script src="../../assets/plugins/moment/moment.min.js"></script>
    <script src="../../assets/plugins/clockpicker/js/bootstrap-clockpicker.min.js"></script>
    <!-- asColorPicker -->
    <!-- momment js is must -->
    <!-- <script src="../../assets/plugins/moment/moment.min.js"></script> -->
    <script src="../../assets/plugins/jquery-asColor/jquery-asColor.min.js"></script>
    <script src="../../assets/plugins/jquery-asGradient/jquery-asGradient.min.js"></script>
    <script src="../../assets/plugins/jquery-asColorPicker/js/jquery-asColorPicker.min.js"></script>
    <!-- Material color picker -->
    <!-- momment js is must -->
    <!-- <script src="../../assets/plugins/moment/moment.min.js"></script> -->
    <script src="../../assets/plugins/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>
    <!-- pickdate -->
    <script src="../../assets/plugins/pickadate/picker.js"></script>
    <script src="../../assets/plugins/pickadate/picker.time.js"></script>
    <script src="../../assets/plugins/pickadate/picker.date.js"></script>




    <!-- Form step init -->
    <script src="/Admin/main/./js/plugins-init/jquery-steps-init.js"></script>
    <!-- Dropify init -->
    <script src="/Admin/main/./js/plugins-init/dropify-init.js"></script>
    <!-- Typeahead init -->
    <script src="/Admin/main/./js/plugins-init/typehead.js-init.js"></script>
    <!-- Tagsinput init -->
    <script src="/Admin/main/./js/plugins-init/bootstrap-tagsinput-init.js"></script>
    <!-- Switchery init -->
    <script src="/Admin/main/./js/plugins-init/switchery-init.js"></script>
    <!-- Select 2 init -->
    <script src="/Admin/main/./js/plugins-init/select2-init.js"></script>
    <!-- Touchspinner init -->
    <script src="/Admin/main/./js/plugins-init/bootstrap-touchpin-init.js"></script>
    <!-- x-editable init -->
    <script src="/Admin/main/./js/plugins-init/bootstrap-editable-init.js"></script>
    <!-- Summernote init -->
    <script src="/Admin/main/./js/plugins-init/summernote-init.js"></script>
    <!-- Daterangepicker -->
    <script src="/Admin/main/./js/plugins-init/bs-daterange-picker-init.js"></script>
    <!-- Clockpicker init -->
    <script src="/Admin/main/./js/plugins-init/clock-picker-init.js"></script>
    <!-- asColorPicker init -->
    <script src="/Admin/main/./js/plugins-init/jquery-asColorPicker.init.js"></script>
    <!-- Material color picker init -->
    <script src="/Admin/main/./js/plugins-init/material-date-picker-init.js"></script>
    <!-- Pickdate -->
    <script src="/Admin/main/./js/plugins-init/pickadate-init.js"></script>





    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
    <script>
    
   
    </script>










<script src="/javascripts/catalogue.js"></script>




<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
  <script>
  
    $('.uploadImage').submit(function (e) {
      e.preventDefault();
      let description = $("#editor").html().trim();
      // var title = $('#title').val(); 
      // alert(description)
  
      $(this).ajaxSubmit({
         data: {description: description},
        contentType: 'application/json',
        success: function (response) {
          alert('successfully')
        }
      });
      return false;
    });
  
  
  
  </script>



<script>
  // Move caret back to 
function placeCaretAtEnd(el) {
  el.focus();
  if (typeof window.getSelection != "undefined" && typeof document.createRange != "undefined") {
    var range = document.createRange();
    range.selectNodeContents(el);
    range.collapse(false);
    var sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
  } else if (typeof document.body.createTextRange != "undefined") {
    var textRange = document.body.createTextRange();
    textRange.moveToElementText(el);
    textRange.collapse(false);
    textRange.select();
  }
}

// Clean HTML tags using sanitize-html
function cleanHtml() {  
  let value = $("#editor").html();
  let clean = sanitizeHtml(value, {
    allowedTags: ['div', 'blockquote', 'b', 'strong', 'i', 'em', 'ul', 'ol', 'li'],
    allowedAttributes: {
      'blockquote': ['style']
    }
  });

  let cleanValue = clean.trim();  
  setContent();
}

// Paste from MS Word    *CREDIT: https://gist.github.com/sbrin/6801034
(function($) {
    $.fn.msword_html_filter = function(options) {
      let settings = $.extend( {}, options);

      function word_filter(editor){
        let content = editor.html();

        // Word comments like conditional comments etc
        content = content.replace(/<!--[\s\S]+?-->/gi, '');

        // Remove comments, scripts (e.g., msoShowComment), XML tag, VML content,
        // MS Office namespaced tags, and a few other tags
        content = content.replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi, '');

        // Convert <s> into <strike> for line-though
        content = content.replace(/<(\/?)s>/gi, "<$1strike>");

        // Replace nbsp entites to char since it's easier to handle
        //content = content.replace(/&nbsp;/gi, "\u00a0");
        content = content.replace(/&nbsp;/gi, ' ');

        // Convert <span style="mso-spacerun:yes">___</span> to string of alternating
        // breaking/non-breaking spaces of same length
        content = content.replace(/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi, function(str, spaces) {
          return (spaces.length > 0) ? spaces.replace(/./, " ").slice(Math.floor(spaces.length/2)).split("").join("\u00a0") : '';
        });

        editor.html(content);

        // Parse out list indent level for lists
        $('p', editor).each(function(){
          let str = $(this).attr('style');
          let matches = /mso-list:\w+ \w+([0-9]+)/.exec(str);
          if (matches) {
            $(this).data('_listLevel',  parseInt(matches[1], 10));
          }
        });

        // Parse Lists
        let last_level=0;
        let pnt = null;
        $('p', editor).each(function(){
            let cur_level = $(this).data('_listLevel');
            if(cur_level != undefined){
                let txt = $(this).text();
                let list_tag = '<ul></ul>';
                if (/^\s*\w+\./.test(txt)) {
                    let matches = /([0-9])\./.exec(txt);
                    if (matches) {
                        let start = parseInt(matches[1], 10);
                        list_tag = start>1 ? '<ol start="' + start + '"></ol>' : '<ol></ol>';
                    }else{
                        list_tag = '<ol></ol>';
                    }
                }

                if(cur_level>last_level){
                  if(last_level==0){
                    $(this).before(list_tag);
                    pnt = $(this).prev();
                  }else{
                    pnt = $(list_tag).appendTo(pnt);
                  }
                }
                if(cur_level<last_level){
                  for(let i=0; i<last_level-cur_level; i++){
                    pnt = pnt.parent();
                  }
                }
                $('span:first', this).remove();
                pnt.append('<li>' + $(this).html().replace(/\d+\./g, '') + '</li>')
                $('b:empty').remove();
                $(this).remove();
                last_level = cur_level;
            }else{
                last_level = 0;
            }
        })

        $('[style]', editor).removeAttr('style');
        $('[align]', editor).removeAttr('align');
        $('span', editor).replaceWith(function() {return $(this).contents();});
        $('span:empty', editor).remove();
        $("[class^='Mso']", editor).removeAttr('class');
        $('p:empty', editor).remove();
      }

      return this.each(function() {
        let self = this;
        $(self).on('keyup paste', function(){
          
          setTimeout(function() {
             let content = $(self).html();
            (/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test( content )) ? word_filter( $(self) ) : cleanHtml();
          }, 400);           
        });
      });
    };
})( jQuery )


$(function(){  
  $('#editor').msword_html_filter(); 
})

function setContent() {
  let value = $(this).html();
  
  let el = $("#editor").get(0);
  placeCaretAtEnd(el);
}


//### EVENTS/ACTIONS ###//

//execCommand(aCommandName, aShowDefaultUI, aValueArgument)
function runCommand(el, commandName, arg) {  
  if (commandName === "createLink") {
    let argument = prompt("Insert link:");
    document.execCommand(commandName, false, argument);
  }else {    
    document.execCommand(commandName, false, arg);
  }  
  $("#editor").focus();
  return false;
}

// Capture wysiwyg val and assign to textarea val
// $("#editor").keyup(function() {
//   let value = $(this).html();
//   $("#messageText").val(value);  
// });

// Show submitted data
$('#submit').click(function(e) {
  e.preventDefault();
  let content = $("#editor").html().trim();
  let name = $('#name').val()
  let type = $('#type').val()
  $.post('/faq-insert',{name,content,type},data=>{
alert(data.msg)
  })
});
</script>






</body>


</html>